/*! For license information please see update.min.js.LICENSE.txt */
(self.webpackChunknexopos_4x=self.webpackChunknexopos_4x||[]).push([[775,198],{1487:(t,e,r)=>{"use strict";r.d(e,{l:()=>J,kq:()=>rt,ih:()=>K,kX:()=>Q});var n=r(6486),o=r(5121),i=r(5750),a=r(8345),s=r(2357),u=r(9248),c=r(230);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:String(e)}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._subject=new u.x}var e,r,n;return e=t,r=[{key:"defineClient",value:function(t){this._client=t}},{key:"post",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request("post",t,e,r)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request("get",t,void 0,e)}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._request("delete",t,void 0,e)}},{key:"put",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._request("put",t,e,r)}},{key:"response",get:function(){return this._lastRequestData}},{key:"_request",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e=rt.applyFilters("http-client-url",e.replace(/\/$/,"")),this._subject.next({identifier:"async.start",url:e,data:n}),new c.y((function(i){r._client[t](e,n,Object.assign(Object.assign({},r._client.defaults[t]),o)).then((function(t){r._lastRequestData=t,i.next(t.data),i.complete(),r._subject.next({identifier:"async.stop"})})).catch((function(t){var e;i.error((null===(e=t.response)||void 0===e?void 0:e.data)||t.response||t),r._subject.next({identifier:"async.stop"})}))}))}},{key:"subject",value:function(){return this._subject}},{key:"emit",value:function(t){var e=t.identifier,r=t.value;this._subject.next({identifier:e,value:r})}}],r&&f(e.prototype,r),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v=r(3);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function m(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:String(e)}var b=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._subject=new v.t}var e,r,n;return e=t,(r=[{key:"subject",value:function(){return this._subject}},{key:"emit",value:function(t){var e=t.identifier,r=t.value;this._subject.next({identifier:e,value:r})}}])&&y(e.prototype,r),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),w=r(6515);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k(n.key),n)}}function k(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:String(e)}var x=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.behaviorState=new w.X({}),this.behaviorState.subscribe((function(t){r.state=t})),this.setState(e)}var e,r,n;return e=t,(r=[{key:"setState",value:function(t){this.behaviorState.next(Object.assign(Object.assign({},this.state),{object:t}))}}])&&j(e.prototype,r),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_=r(2401),S=r(8272),E=r(381),P=r(1419),L=r(538),O=r(3658);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F(n.key),n)}}function F(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:String(e)}var A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=ns.base_url}var e,r,n;return e=t,(r=[{key:"get",value:function(t){return this.url+t}}])&&T(e.prototype,r),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),N=L.default.filter("abbreviate",(function(t){var e=t;if(t>=1e3){for(var r,n=Math.floor((""+t).length/3),o=2;o>=1;o--){if(((r=parseFloat((0!=n?t/Math.pow(1e3,n):t).toPrecision(o)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}r%1!=0&&(r=r.toFixed(1)),e=r+["","k","m","b","t"][n]}return e})),z=r(3515),q=r(9364);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function I(t){var e=function(t,e){if("object"!=$(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$(e)?e:String(e)}var W=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instances=new Object}var e,r,n;return e=t,(r=[{key:"getInstance",value:function(t){return this.instances[t]}},{key:"defineInstance",value:function(t,e){this.instances[t]=e}}])&&M(e.prototype,r),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),G=r(2319),X=r(8094),Z=r(3216),U=r(2867),R=r(4554),B=r(6891);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function D(t){var e=function(t,e){if("object"!=H(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==H(e)?e:String(e)}var Y=r(6606);window._=n,window.ChartJS=i,window.Pusher=Y,window.Vue=L.default,window.moment=E,window.Axios=o.Z,window.__=X.__,window.__m=X.c,window.VueRouter=a.ZP,window.SnackBar=s.S,window.nsHooks=(0,G.Hu)(),window.popupResolver=Z.Z,window.popupCloser=U.Z,window.Axios.defaults.headers.common["x-requested-with"]="XMLHttpRequest",window.Axios.defaults.withCredentials=!0,ns.websocket.enabled&&(window.Echo=new R.ZP({broadcaster:"pusher",key:ns.websocket.key,wsHost:ns.websocket.host,wsPort:ns.websocket.port,wssPort:ns.websocket.port,namespace:"",forceTLS:ns.websocket.secured,disableStats:!0,encrypted:ns.websocket.secured,enabledTransports:ns.websocket.secured?["ws","wss"]:["ws"],disabledTransports:ns.websocket.secured?["sockjs","xhr_polling","xhr_streaming"]:[]}));var J=new b,K=new d,Q=new s.S,tt=new A,et=new W,rt=window.nsHooks,nt=new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.breakpoint="",this.detectScreenSizes(),(0,_.R)(window,"resize").subscribe((function(t){return e.detectScreenSizes()}))}var e,r,n;return e=t,(r=[{key:"detectScreenSizes",value:function(){switch(!0){case window.outerWidth>0&&window.outerWidth<=480:this.breakpoint="xs";break;case window.outerWidth>480&&window.outerWidth<=640:this.breakpoint="sm";break;case window.outerWidth>640&&window.outerWidth<=1024:this.breakpoint="md";break;case window.outerWidth>1024&&window.outerWidth<=1280:this.breakpoint="lg";break;case window.outerWidth>1280:this.breakpoint="xl"}}}])&&V(e.prototype,r),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()),ot=new x({sidebar:["xs","sm","md"].includes(nt.breakpoint)?"hidden":"visible"});K.defineClient(o.Z),window.nsEvent=J,window.nsHttpClient=K,window.nsSnackBar=Q,window.nsCurrency=z.W,window.nsTruncate=q.b,window.nsRawCurrency=z.f,window.nsAbbreviate=N,window.nsState=ot,window.nsUrl=tt,window.nsScreen=nt,window.ChartJS=i,window.EventEmitter=b,window.Popup=P.G,window.RxJS=S,window.FormValidation=O.Z,window.nsCrudHandler=et,window.nsTax=B.Z},3515:(t,e,r)=>{"use strict";r.d(e,{W:()=>c,f:()=>l});var n=r(2077),o=r.n(n),i=r(538),a=r(6740),s=r.n(a),u=new Array(parseInt(ns.currency.ns_currency_precision)).fill("").map((function(t){return 0})).join(""),c=i.default.filter("currency",(function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";switch(ns.currency.ns_currency_prefered){case"iso":e=ns.currency.ns_currency_iso;break;case"symbol":e=ns.currency.ns_currency_symbol}if("full"===n){var i={decimal:ns.currency.ns_currency_decimal_separator,separator:ns.currency.ns_currency_thousand_separator,precision:parseInt(ns.currency.ns_currency_precision),symbol:""};r=s()(t,i).format()}else r=o()(t).format("0.0a");return"".concat("before"===ns.currency.ns_currency_position?e:"").concat(r).concat("after"===ns.currency.ns_currency_position?e:"")})),l=function(t){var e="0.".concat(u);return parseFloat(o()(t).format(e))}},9364:(t,e,r)=>{"use strict";r.d(e,{b:()=>n});var n=r(538).default.filter("truncate",(function(t,e){return t?(t=t.toString()).length>e?t.substring(0,e)+"...":t:""}))},3658:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}r.d(e,{Z:()=>a});var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,n;return e=t,r=[{key:"validateFields",value:function(t){var e=this;return 0===t.map((function(t){return e.checkField(t),t.errors?0===t.errors.length:0})).filter((function(t){return!1===t})).length}},{key:"validateFieldsErrors",value:function(t){var e=this;return t.map((function(t){return e.checkField(t),t.errors})).flat()}},{key:"validateForm",value:function(t){t.main&&this.validateField(t.main);var e=[];for(var r in t.tabs)if(t.tabs[r].fields){var n=[],o=this.validateFieldsErrors(t.tabs[r].fields);o.length>0&&n.push(o),t.tabs[r].errors=n.flat(),e.push(n.flat())}return e.flat().filter((function(t){return void 0!==t}))}},{key:"initializeTabs",value:function(t){var e=0;for(var r in t)0===e&&(t[r].active=!0),t[r].active=void 0!==t[r].active&&t[r].active,t[r].fields=this.createFields(t[r].fields),e++;return t}},{key:"validateField",value:function(t){return this.checkField(t)}},{key:"fieldsValid",value:function(t){return!(t.map((function(t){return t.errors&&t.errors.length>0})).filter((function(t){return t})).length>0)}},{key:"createFields",value:function(t){return t.map((function(e){if(e.type=e.type||"text",e.errors=e.errors||[],e.disabled=e.disabled||!1,"custom"===e.type&&"string"==typeof e.component){var r=e.component;if(e.component=nsExtraComponents[e.component],!e.component)throw'Failed to load a custom component. "'.concat(r,'" is not provided as an extra component. More details here: https://pos.avrinalanka.com/en/documentation/developpers-guides/how-to-register-a-custom-vue-component');e.component.$field=e,e.component.$fields=t}return e}))}},{key:"createForm",value:function(t){if(t.main&&(t.main=this.createFields([t.main])[0]),t.tabs)for(var e in t.tabs)t.tabs[e].errors=[],void 0!==t.tabs[e].fields?t.tabs[e].fields=this.createFields(t.tabs[e].fields):console.info('Warning: The tab "'.concat(t.tabs[e].label,'" is missing fields. Fallback on checking dynamic component instead.'));return t}},{key:"enableFields",value:function(t){return t.map((function(t){return t.disabled=!1}))}},{key:"disableFields",value:function(t){return t.map((function(t){return t.disabled=!0}))}},{key:"disableForm",value:function(t){for(var e in t.main&&(t.main.disabled=!0),t.tabs)t.tabs[e].fields.forEach((function(t){return t.disabled=!0}))}},{key:"enableForm",value:function(t){for(var e in t.main&&(t.main.disabled=!1),t.tabs)t.tabs[e].fields.forEach((function(t){return t.disabled=!1}))}},{key:"getValue",value:function(t){var e={};return t.forEach((function(t){e[t.name]=t.value})),e}},{key:"checkField",value:function(t){var e=this;return void 0!==t.validation&&(t.errors=[],this.detectValidationRules(t.validation).forEach((function(r){e.fieldPassCheck(t,r)}))),t}},{key:"extractForm",value:function(t){var e={};if(t.main&&(e[t.main.name]=t.main.value),t.tabs)for(var r in t.tabs)void 0===e[r]&&(e[r]={}),e[r]=this.extractFields(t.tabs[r].fields);return e}},{key:"extractFields",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forEach((function(t){e[t.name]=t.value})),e}},{key:"detectValidationRules",value:function(t){var e=function(t){var e;return["email","required"].includes(t)?{identifier:t}:(e=/(min)\:([0-9])+/g.exec(t))||(e=/(max)\:([0-9])+/g.exec(t))?{identifier:e[1],value:e[2]}:t};return Array.isArray(t)?t.filter((function(t){return"string"==typeof t})).map(e):t.split("|").map(e)}},{key:"triggerError",value:function(t,e){if(console.log(e),e.errors){var r=function(r){var n=r.split(".").filter((function(t){return!/^\d+$/.test(t)}));2===n.length&&t.tabs[n[0]].fields.forEach((function(t){t.name===n[1]&&e.errors[r].forEach((function(e){var r={identifier:"invalid",invalid:!0,message:e,name:t.name};t.errors.push(r)}))})),r===t.main.name&&e.errors[r].forEach((function(e){t.main.errors.push({identifier:"invalid",invalid:!0,message:e,name:t.main.name})}))};for(var n in e.errors)r(n)}}},{key:"triggerFieldsErrors",value:function(t,e){if(e&&e.errors){var r=function(r){t.forEach((function(t){t.name===r&&e.errors[r].forEach((function(e){var r={identifier:"invalid",invalid:!0,message:e,name:t.name};t.errors.push(r)}))}))};for(var n in e.errors)r(n)}}},{key:"fieldPassCheck",value:function(t,e){if("required"===e.identifier){if(void 0===t.value||null===t.value||0===t.value.length)return t.errors.push({identifier:e.identifier,invalid:!0,name:t.name});t.errors.forEach((function(r,n){r.identifier===e.identifier&&!0===r.invalid&&t.errors.splice(n,1)}))}if("email"===e.identifier&&t.value.length>0){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.value))return t.errors.push({identifier:e.identifier,invalid:!0,name:t.name});t.errors.forEach((function(r,n){!0===r[e.identifier]&&t.errors.splice(n,1)}))}return t}}],r&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8094:(t,e,r)=>{"use strict";r.d(e,{__:()=>n,c:()=>o});var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AviPOS";return nsLanguage.getEntries(e)&&nsLanguage.getEntries(e)[t]||t},o=function(t,e){return nsLanguage.getEntries(e)&&nsLanguage.getEntries(e)[t]||t}},2867:(t,e,r)=>{"use strict";function n(){var t=this;Object.keys(this).includes("$popup")&&(this.$popup.event.subscribe((function(e){"click-overlay"===e.event&&(t.$popupParams&&void 0!==t.$popupParams.reject&&t.$popupParams.reject(!1),t.$popup.close()),"press-esc"===e.event&&(t.$popupParams&&void 0!==t.$popupParams.reject&&t.$popupParams.reject(!1),t.$popup.close())})),nsHotPress.create("popup-esc").whenPressed("escape",(function(e){e.preventDefault();var r=parseInt(t.$el.parentElement.getAttribute("data-index"));null===document.querySelector('.is-popup [data-index="'.concat(r+1,"]"))&&(t.$popupParams&&void 0!==t.$popupParams.reject&&t.$popupParams.reject(!1),t.$popup.close(),nsHotPress.destroy("popup-esc"))})))}r.d(e,{Z:()=>n})},3216:(t,e,r)=>{"use strict";function n(t){void 0!==this.$popupParams.resolve&&this.$popupParams.reject&&(!1!==t?this.$popupParams.resolve(t):this.$popupParams.reject(t)),this.$popup.close()}r.d(e,{Z:()=>n})},1419:(t,e,r)=>{"use strict";r.d(e,{G:()=>c});var n=r(9248);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),s=new F(n||[]);return a(i,"_invoke",{value:L(t,r,s)}),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var v="suspendedStart",h="suspendedYield",y="executing",m="completed",b={};function w(){}function g(){}function j(){}var k={};f(k,u,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(A([])));_&&_!==r&&n.call(_,u)&&(k=_);var S=j.prototype=w.prototype=Object.create(k);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,s,u){var c=d(t[i],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,r,n){var o=v;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?m:h,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return g.prototype=j,a(S,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:g,configurable:!0}),g.displayName=f(j,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,f(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(P.prototype),f(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(S),f(S,l,"Generator"),f(S,u,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}var u=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={primarySelector:void 0,popupClass:"shadow-lg h-half w-1/2 bg-white"},this.container=document.createElement("div"),this.popupBody=document.createElement("div"),this.popupSelector="",this.config=Object.assign(this.config,e),void 0===this.config.primarySelector&&document.querySelectorAll(".is-popup").length>0){var r=document.querySelectorAll(".is-popup").length;this.parentWrapper=document.querySelectorAll(".is-popup")[r-1]}else this.parentWrapper=document.querySelector("body").querySelectorAll("div")[0];this.event=new n.x}var e,r,o;return e=t,r=[{key:"hash",value:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<10;r++)t+=e.charAt(Math.floor(62*Math.random()));return t}},{key:"open",value:function(t){var e,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,void 0,void 0,i().mark((function a(){var s,u,c,l=this;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("function"!=typeof t){i.next=9;break}return i.prev=1,i.next=4,t();case 4:t=i.sent.default,i.next=9;break;case 7:i.prev=7,i.t0=i.catch(1);case 9:s=document.querySelector("body").querySelectorAll("div")[0],this.parentWrapper.style.filter="blur(4px)",s.style.filter="blur(6px)",this.container.setAttribute("class","absolute top-0 left-0 w-full h-full flex items-center justify-center is-popup"),this.container.addEventListener("click",(function(t){l.event.next({event:"click-overlay",value:!0}),t.stopPropagation()})),this.popupBody.addEventListener("click",(function(t){t.stopImmediatePropagation()})),u=document.querySelectorAll(".is-popup").length,this.container.id="popup-container-"+this.hash(),this.popupSelector="#".concat(this.container.id),this.popupBody.setAttribute("class","zoom-out-entrance popup-body"),this.popupBody.setAttribute("data-index",u),this.popupBody.innerHTML='<div class="vue-component"></div>',this.container.appendChild(this.popupBody),document.body.appendChild(this.container),c=Vue.extend(t),this.instance=new c({propsData:{popup:this}}),this.instance.template=(null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.template)||void 0,this.instance.render=t.render||void 0,this.instance.methods=(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.methods)||(null==t?void 0:t.methods),this.instance.data=(null===(n=null==t?void 0:t.options)||void 0===n?void 0:n.data)||(null==t?void 0:t.data),this.instance.$popup=this,this.instance.$popupParams=o,this.instance.$mount("#".concat(this.container.id," .vue-component"));case 32:case"end":return i.stop()}}),a,this,[[1,7]])})))}},{key:"close",value:function(){var t=this;this.instance.$destroy(),this.event.unsubscribe(),this.parentWrapper.style.filter="blur(0px)";var e=document.querySelector("body").querySelectorAll("div")[0];document.querySelectorAll(".is-popup").length<=1&&(e.style.filter="blur(0px)");var r="".concat(this.popupSelector," .popup-body");this.popupBody=document.querySelector(r),this.popupBody.classList.remove("zoom-out-entrance"),this.popupBody.classList.add("zoom-in-exit"),this.container=document.querySelector("".concat(this.popupSelector)),this.container.classList.remove("is-popup"),setTimeout((function(){t.container.remove()}),300)}}],o=[{key:"show",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return n.open(e,r),n}}],r&&a(e.prototype,r),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},2357:(t,e,r)=>{"use strict";r.d(e,{S:()=>s});var n=r(3260);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===window.snackbarQueue&&(window.snackbarQueue=[],this.queue=window.snackbarQueue)}var e,r,o;return e=t,r=[{key:"show",value:function(t,e){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"info"};return n.Observable.create((function(n){var i=r.__createSnack({message:t,label:e,type:o.type}),a=i.buttonNode,s=(i.textNode,i.snackWrapper,i.sampleSnack);a.addEventListener("click",(function(t){n.onNext(a),n.onCompleted(),s.remove()})),r.__startTimer(o.duration,s)}))}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"error"};return this.show(t,e,Object.assign(Object.assign({},r),{type:"error"}))}},{key:"success",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"success"};return this.show(t,e,Object.assign(Object.assign({},r),{type:"success"}))}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{duration:3e3,type:"info"};return this.show(t,e,Object.assign(Object.assign({},r),{type:"info"}))}},{key:"__startTimer",value:function(t,e){var r,n=function(){t>0&&!1!==t&&(r=setTimeout((function(){e.remove()}),t))};e.addEventListener("mouseenter",(function(){clearTimeout(r)})),e.addEventListener("mouseleave",(function(){n()})),n()}},{key:"__createSnack",value:function(t){var e=t.message,r=t.label,n=t.type,o=void 0===n?"info":n,i=document.getElementById("snack-wrapper")||document.createElement("div"),a=document.createElement("div"),s=document.createElement("p"),u=document.createElement("div"),c=document.createElement("button"),l="",f="";switch(o){case"info":l="",f="info";break;case"error":l="",f="error";break;case"success":l="",f="success"}return s.textContent=e,s.setAttribute("class","pr-2"),r&&(u.setAttribute("class","ns-button default"),c.textContent=r,c.setAttribute("class","px-3 py-2 shadow rounded uppercase ".concat(l)),u.appendChild(c)),a.appendChild(s),a.appendChild(u),a.setAttribute("class","md:rounded py-2 px-3 md:w-2/5 w-full z-10 md:my-2 shadow-lg flex justify-between items-center zoom-in-entrance anim-duration-300 ns-notice ".concat(f)),i.appendChild(a),null===document.getElementById("snack-wrapper")&&(i.setAttribute("id","snack-wrapper"),i.setAttribute("class","absolute bottom-0 w-full flex justify-between items-center flex-col"),document.body.appendChild(i)),{snackWrapper:i,sampleSnack:a,buttonsWrapper:u,buttonNode:c,textNode:s}}}],r&&i(e.prototype,r),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},6891:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(2985);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,o=[{key:"compute",value:function(e,r,n){switch(e){case"inclusive":return t.computeInclusive(r,n);case"exclusive":return t.computeExclusive(r,n)}}},{key:"computeInclusive",value:function(t,e){return n.tS(n.tS(t).divide(n.tS(e).add(100).done()).done()).multiply(100).done()}},{key:"computeExclusive",value:function(t,e){return n.tS(t).divide(100).multiply(n.tS(e).add(100).done()).done()}},{key:"getTaxValue",value:function(e,r,n){switch(e){case"inclusive":return r-t.compute(e,r,n);case"exclusive":return t.compute(e,r,n)-r}return 0}}],(r=null)&&i(e.prototype,r),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1527:(t,e,r)=>{"use strict";var n=r(538),o=r(5783).Z;console.log(o),window.nsUpdate=new n.default({el:"#main-container",components:{nsDatabaseUpdate:o}})},6700:(t,e,r)=>{var n={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":4415,"./fy.js":4415,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=6700},5783:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(8094),o=r(1487);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,a=Object.create(i.prototype),s=new F(n||[]);return o(a,"_invoke",{value:L(t,r,s)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var v="suspendedStart",h="suspendedYield",y="executing",m="completed",b={};function w(){}function g(){}function j(){}var k={};f(k,u,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(A([])));_&&_!==r&&n.call(_,u)&&(k=_);var S=j.prototype=w.prototype=Object.create(k);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,a,s,u){var c=d(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=v;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?m:h,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return g.prototype=j,o(S,"constructor",{value:j,configurable:!0}),o(j,"constructor",{value:g,configurable:!0}),g.displayName=f(j,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,f(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(P.prototype),f(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(S),f(S,l,"Generator"),f(S,u,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function s(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}const u={name:"ns-database-update",data:function(){return{files:Update.files,returnLink:Update.returnLink,modules:Update.modules,updating:!1,xXsrfToken:null,updatingModule:!1,error:!1,lastErrorMessage:"",index:0}},computed:{totalModules:function(){return Object.values(this.modules).length}},mounted:function(){var t=this;o.ih.get("/sanctum/csrf-cookie").subscribe((function(e){try{t.xXsrfToken=o.ih.response.config.headers["X-XSRF-TOKEN"],t.proceedUpdate()}catch(t){o.kX.error(t.message).subscribe()}}))},methods:{__:n.__,proceedUpdate:function(){var t,e=this;return(t=a().mark((function t(){var r,i,s,u,c,l,f;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updating=!0,r=a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.index=parseInt(r)+1,t.next=4,new Promise((function(t,n){o.ih.post("/api/nexopos/v4/update",{file:e.files[r]},{headers:{"X-XSRF-TOKEN":e.xXsrfToken}}).subscribe({next:t,error:n})}));case 4:t.sent,t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(0),e.updating=!1,e.error=!0,e.lastErrorMessage=t.t0.message||(0,n.__)("An unexpected error occurred"),t.abrupt("return",{v:o.kX.error(t.t0.message).subscribe()});case 13:case"end":return t.stop()}}),t,null,[[0,7]])})),t.t0=a().keys(e.files);case 3:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,t.delegateYield(r(s),"t2",6);case 6:if(!(i=t.t2)){t.next=9;break}return t.abrupt("return",i.v);case 9:t.next=3;break;case 11:if(e.index=0,!(Object.values(e.modules).length>0)){t.next=25;break}e.updatingModule=!0,u=0,c=a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u+=1,e.index=u,t.next=5,new Promise((function(t,n){o.ih.post("/api/nexopos/v4/update",{module:e.modules[r]},{headers:{"X-XSRF-TOKEN":e.xXsrfToken}}).subscribe({next:t,error:n})}));case 5:t.sent,t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),e.updating=!1,e.error=!0,e.lastErrorMessage=t.t0.message||(0,n.__)("An unexpected error occurred"),t.abrupt("return",{v:o.kX.error(t.t0.message).subscribe()});case 14:case"end":return t.stop()}}),t,null,[[0,8]])})),t.t3=a().keys(e.modules);case 17:if((t.t4=t.t3()).done){t.next=25;break}return f=t.t4.value,t.delegateYield(c(f),"t5",20);case 20:if(!(l=t.t5)){t.next=23;break}return t.abrupt("return",l.v);case 23:t.next=17;break;case 25:e.error=!1,e.updating=!1,document.location=e.returnLink;case 28:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,u,"next",t)}function u(t){s(i,n,o,a,u,"throw",t)}a(void 0)}))})()}}};const c=(0,r(1900).Z)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mx-auto flex-auto items-center justify-center flex"},[e("div",{staticClass:"w-full md:w-2/3 lg:w-1/3",attrs:{id:"database-update"}},[t._m(0),t._v(" "),e("div",{staticClass:"my-3 rounded shadow ns-box"},[e("div",{staticClass:"border-b ns-box-header py-4 flex items-center justify-center"},[e("h3",{staticClass:"text-xl font-bold"},[t._v(t._s(t.__("Database Update")))])]),t._v(" "),e("div",{staticClass:"p-2 ns-box-body"},[e("p",{staticClass:"text-center text-sm py-4"},[t._v(t._s(t.__("In order to keep AviPOS running smoothly with updates, we need to proceed to the database migration. In fact you don't need to do any action, just wait until the process is done and you'll be redirected.")))]),t._v(" "),t.error?e("div",{staticClass:"border-l-4 text-sm ns-notice error p-4"},[e("p",[t._v("\n                        "+t._s(t.__("Looks like an error has occurred during the update. Usually, giving another shot should fix that. However, if you still don't get any chance."))+"\n                        "+t._s(t.__("Please report this message to the support : "))+"\n                    ")]),t._v(" "),e("pre",{staticClass:"rounded whitespace-pre-wrap my-2 p-2"},[t._v(t._s(t.lastErrorMessage))])]):t._e()]),t._v(" "),e("div",{staticClass:"border-t ns-box-footer p-2 flex justify-between"},[e("div",[t.error?e("ns-button",{staticClass:"rounded shadow-inner",attrs:{type:"error"},on:{click:function(e){return t.proceedUpdate()}}},[e("i",{staticClass:"las la-sync"}),t._v(" "),e("span",{staticClass:"ml-1"},[t._v(t._s(t.__("Try Again")))])]):t._e()],1),t._v(" "),e("div",{staticClass:"flex"},[t.updating?e("ns-button",{staticClass:"rounded shadow-inner",attrs:{type:"info"}},[e("i",{staticClass:"las la-sync animate-spin"}),t._v(" "),t.updatingModule?t._e():e("span",[t._v(t._s(t.__("Updating"))+"...")]),t._v(" "),t.updatingModule?t._e():e("span",{staticClass:"mr-1"},[t._v(t._s(t.index)+"/"+t._s(t.files.length))]),t._v(" "),t.updatingModule?e("span",[t._v(t._s(t.__("Updating Modules"))+"...")]):t._e(),t._v(" "),t.updatingModule?e("span",{staticClass:"mr-1"},[t._v(t._s(t.index)+"/"+t._s(t.totalModules))]):t._e()]):t._e(),t._v(" "),t.updating?t._e():e("ns-button",{staticClass:"rounded shadow-inner",attrs:{type:"info",href:t.returnLink}},[e("i",{staticClass:"las la-undo"}),t._v(" "),e("span",{staticClass:"ml-1"},[t._v(t._s(t.__("Return")))])])],1)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"flex justify-center items-center py-6"},[t("img",{staticClass:"w-32",attrs:{src:"/svg/nexopos-variant-1.svg",alt:"AviPOS"}})])}],!1,null,null,null).exports},5042:()=>{}},t=>{t.O(0,[898],(()=>{return e=1527,t(t.s=e);var e}));t.O()}]);